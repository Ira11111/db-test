set search_path to shop;

-- 1. Вставка данных в таблицу категорий (иерархическая структура)
INSERT INTO category (category_name, parent_category_id) VALUES
-- Корневые категории (уровень 1)
('Бытовая техника', NULL),
('Электроника', NULL),
('Компьютерная техника', NULL),
('Мебель', NULL),

-- Подкатегории для "Бытовая техника" (уровень 2)
('Холодильники', 1),
('Стиральные машины', 1),
('Пылесосы', 1),
('Микроволновые печи', 1),

-- Подкатегории для "Холодильники" (уровень 3)
('Однокамерные', 5),
('Двухкамерные', 5),
('Side-by-Side', 5),

-- Подкатегории для "Электроника" (уровень 2)
('Телевизоры', 2),
('Смартфоны', 2),
('Наушники', 2),

-- Подкатегории для "Телевизоры" (уровень 3)
('4K Ultra HD', 11),
('Smart TV', 11),
('OLED', 11),

-- Подкатегории для "Компьютерная техника" (уровень 2)
('Ноутбуки', 3),
('Моноблоки', 3),
('Периферия', 3),

-- Подкатегории для "Ноутбуки" (уровень 3)
('Игровые', 17),
('Ультрабуки', 17),
('Бизнес-класс', 17),

-- Подкатегории для "Мебель" (уровень 2)
('Кухонная мебель', 4),
('Офисная мебель', 4),
('Спальни', 4);

-- 2. Вставка данных в таблицу клиентов
INSERT INTO client (client_name, address) VALUES
('Иванов Алексей Петрович', 'г. Москва, ул. Тверская, д. 25, кв. 14'),
('Петрова Мария Сергеевна', 'г. Санкт-Петербург, Невский пр-т, д. 100, кв. 56'),
('Сидоров Дмитрий Иванович', 'г. Новосибирск, ул. Ленина, д. 12, кв. 89'),
('Козлова Анна Викторовна', 'г. Екатеринбург, ул. Малышева, д. 45, кв. 23'),
('Федоров Сергей Николаевич', 'г. Казань, ул. Баумана, д. 78, кв. 7'),
('Никитина Ольга Дмитриевна', 'г. Ростов-на-Дону, ул. Большая Садовая, д. 33, кв. 41'),
('Волков Андрей Павлович', 'г. Владивосток, ул. Светланская, д. 67, кв. 15'),
('Белова Екатерина Александровна', 'г. Калининград, ул. Леонова, д. 89, кв. 32');

-- 3. Вставка данных в таблицу товаров (ИСПРАВЛЕНО - теперь 26 товаров)
INSERT INTO product (product_name, price, amount, id_category) VALUES
-- Холодильники (id 1-4)
('Холодильник Bosch Serie 4 KGN39VW25R', 54990.00, 15, 6),
('Холодильник Samsung RB37A52N0SA/WT', 42990.00, 8, 6),
('Холодильник LG DoorCooling+ GC-B509SLVL', 67990.00, 5, 7),
('Холодильник Haier C2F636CGMV', 38990.00, 12, 8),

-- Стиральные машины (id 5-7)
('Стиральная машина Bosch WAJ20281RU', 34990.00, 20, 2),
('Стиральная машина Samsung WW90T554DAW/LP', 41990.00, 10, 2),
('Стиральная машина LG F2V5HS0W', 37990.00, 15, 2),

-- Телевизоры (id 8-11)
('Телевизор Samsung QE55Q60BAUXRU', 69990.00, 25, 12),
('Телевизор LG 55NANO766QA', 54990.00, 18, 12),
('Телевизор Sony KD-55X80K', 62990.00, 12, 13),
('Телевизор Philips 55PUS8808/60', 58990.00, 8, 14),

-- Смартфоны (id 12-14)
('Смартфон Samsung Galaxy S23 Ultra 12/512GB', 109990.00, 30, 3),
('Смартфон Apple iPhone 15 Pro 128GB', 124990.00, 25, 3),
('Смартфон Xiaomi Redmi Note 12 Pro 8/256GB', 27990.00, 50, 3),

-- Ноутбуки (id 15-18)
('Ноутбук ASUS ROG Strix G16', 149990.00, 10, 18),
('Ноутбук Apple MacBook Air 13 M2', 119990.00, 15, 19),
('Ноутбук Lenovo ThinkPad X1 Carbon', 139990.00, 8, 20),
('Ноутбук Acer Nitro 5 AN515-58', 89990.00, 12, 18),

-- Наушники (id 19-20)
('Наушники Sony WH-1000XM5', 34990.00, 40, 4),
('Наушники Apple AirPods Pro 2', 24990.00, 35, 4),

-- Мебель (id 21-26)
('Стол кухонный "Модерн" 120x80см', 15990.00, 20, 22),
('Стул офисный "Комфорт"', 8990.00, 30, 23),
('Кровать двуспальная "Евро" 160x200', 29990.00, 15, 24),
('Диван угловой "Милан"', 45990.00, 10, 24),
('Шкаф-купе 3-дверный', 32990.00, 12, 24),
('Тумба под TV "Гласс"', 12990.00, 25, 22);

-- 4. Вставка данных в таблицу заказов
INSERT INTO purchase (id_client) VALUES
(1), (2), (3), (4), (5), (1), (6), (7), (8), (2);

-- 5. Вставка данных в таблицу состава заказов (ИСПРАВЛЕНО - правильные id товаров)
INSERT INTO purchase_product (id_purchase, id_product, product_amount) VALUES
-- Заказ 1: Иванов Алексей (крупный заказ)
(1, 1, 1),   -- Холодильник Bosch (id=1)
(1, 8, 1),   -- Телевизор Samsung (id=8)
(1, 19, 1),  -- Наушники Sony (id=19)

-- Заказ 2: Петрова Мария (техника для дома)
(2, 5, 1),   -- Стиральная машина Bosch (id=5)
(2, 14, 1),  -- Смартфон Xiaomi (id=14)
(2, 22, 2),  -- 2 офисных стула (id=22)

-- Заказ 3: Сидоров Дмитрий (игровой ноутбук)
(3, 15, 1),  -- Ноутбук ASUS ROG (id=15)
(3, 19, 1),  -- Наушники Sony (id=19)

-- Заказ 4: Козлова Анна (кухонная техника)
(4, 2, 1),   -- Холодильник Samsung (id=2)
(4, 6, 1),   -- Стиральная машина Samsung (id=6)
(4, 21, 1),  -- Кухонный стол (id=21)

-- Заказ 5: Федоров Сергей (телевизор)
(5, 9, 1),   -- Телевизор LG (id=9)

-- Заказ 6: Иванов Алексей (второй заказ - смартфон)
(6, 13, 1),  -- Apple iPhone 15 Pro (id=13)

-- Заказ 7: Никитина Ольга (полный комплект)
(7, 3, 1),   -- Холодильник LG (id=3)
(7, 7, 1),   -- Стиральная машина LG (id=7)
(7, 10, 1),  -- Телевизор Sony (id=10)
(7, 16, 1),  -- MacBook Air (id=16)

-- Заказ 8: Волков Андрей (бюджетный вариант)
(8, 4, 1),   -- Холодильник Haier (id=4)
(8, 14, 1),  -- Смартфон Xiaomi (id=14)

-- Заказ 9: Белова Екатерина (для офиса)
(9, 17, 1),  -- Ноутбук Lenovo (id=17)
(9, 22, 4),  -- 4 офисных стула (id=22)

-- Заказ 10: Петрова Мария (второй заказ - мебель)
(10, 23, 1); -- Двуспальная кровать (id=23)